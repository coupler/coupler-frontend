<app-client-error *ngIf="clientError" [error]="clientError">
</app-client-error>
<ng-template [ngIf]="linkageResult">
  <h2>Linkage result #{{linkageResult.id}}</h2>
  <p>Here are the resulting matches created for the following linkage configuration at <b>{{job.endedAt | date:"short"}}</b>:</p>
  <app-linkages-list [linkages]="[linkage]">
  </app-linkages-list>
  <div *ngIf="currentMatch" class="currentMatch">
    <h4>Match #{{matchIndex + 1}}</h4>
    <app-linkage-match-detail [match]="currentMatch" [fields1]="fields1"
      [fields2]="fields2" [selfLinkage]="selfLinkage">
    </app-linkage-match-detail>

    <div class="buttons">
      <button type="button" class="btn btn-primary prev mr-2" (click)="prev()">
        <i class="fa fa-arrow-left"></i> Prev
      </button>
      <button type="button" class="btn btn-primary next" (click)="next()">
        <i class="fa fa-arrow-right"></i> Next
      </button>
    </div>
  </div>
  <h3 style="margin-top: 2em">Export</h3>
  <p>
    If you wish to create a dataset from the matching records, click the button below.
  </p>
  <button type="button" class="btn btn-primary mr-2" (click)="createExportJob()">
    <i class="fa fa-file-export"></i> Generate result dataset
  </button>
</ng-template>
